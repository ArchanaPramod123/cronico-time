{% extends "adminhome/base.html" %}
{% load static %}
{% block content %}
<section class="content-main">
    <div class="content-header">
        <div>
            <h2 class="content-title card-title">Update varient</h2>
            
        </div>
        <div>
            <input type="text" placeholder="Search Categories" class="form-control bg-white">
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <form method="post" action="{% url 'admin_varient_edit' product.id %}" enctype="multipart/form-data">
                {% csrf_token %}
                {{ product_form.as_p }}
                <button type="submit" class="btn btn-primary">Update Product</button>
            </form>
                    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
                    <script>
                        $(document).ready(function () {

                            $('#add-image-btn').on('click', function () {
                                var container = $('#new-images-container');
                                var newInput = $('<input>', {
                                    type: 'file',
                                    name: 'new_images',
                                    class: 'form-control',
                                });
                                container.append(newInput);
                            });
                    
                            // Delete Image buttons functionality
                            $('.delete-image-btn').on('click', function () {
                                var imageId = $(this).data('image-id');
                                var container = $(this).closest('.image-container');
                                var deleteInput = $('<input>', {
                                    type: 'hidden',
                                    name: 'delete_image_' + imageId,
                                    value: 'on'
                                });
                                container.append(deleteInput);
                                container.hide(); // Hide the container
                            });
                        });
                    </script>
                    
            </div>
        </div> <!-- card body .// -->
    </div> <!-- card .// -->
</section> <!-- content-main end// -->

{% endblock %}